# 概述
当前市面上的心理智能体产品，偏向**被动响应**： 大多是用户感到不适时才去使用，侧重于“当下问题的缓解”，而非“**长期能力的培养**”
我想做的是一个以“<u>培养长期内在能力”为目标</u>的、将“日记洞察-对话分析-正念实践”深度融合的、专为大学生场景设计的个性化心理成长系统，培养内在的力量。也就是让大学生去学习心理学，去认识自己，减少心理疾病往后发生的可能。
我希望用户初次进入页面时，可以先去选择一个最想解决或最想培养的方面，比如焦虑问题，拖延问题，睡眠问题...  我有心理学资料，还有诸如情绪ebt、cbt综合治疗等等，将这些喂给ai，充当ai知识库 。  用户选择好后，每天初始的时候都引导用户书写自己的想法，或做一些书写练习等，然后根据知识库，循序渐进地培养用户能力。  
再开一个日记模块， 用户可以自己上传或书写今天的日记。  智能体在给出即时回应的同时，分析用户情况，记录下来。 接着调用agent能力给出一些建议，链接等 或不给。随着时间的推移，个性化一定越好，建议一定更准确。

下面阐述产品文档：
# 产品文档
#### <u>产品名：innersight AI</u>
#### 1. 产品愿景 

为每一位大学生提供一个主动式、个性化的AI心理成长伙伴，通过科学的引导和深度洞察，帮助他们构建长期、稳定的内在力量，从容应对学业、社交和未来职业生涯的挑战。

#### 2. 产品使命 

我们致力于将心理学的前沿理论（如CBT、DBT）与先进的AI技术（特别是多智能体系统）深度融合，从“被动响应”转向“主动培养”。我们不仅解决当下的情绪困扰，更通过“日记洞察-对话分析-正念实践”的闭环，培养用户自我觉察、情绪调节和问题解决的核心能力。

#### 3. 目标用户 

**核心用户：** 在校大学生。  
**用户画像：**

- **学业压力型：** 面临考试、论文、科研等多重压力，易产生焦虑、拖延情绪。
    
- **社交迷茫型：** 对人际关系、集体生活感到困惑或不适，渴望提升社交能力。
    
- **生涯探索型：** 对未来感到迷茫，在实习、就业选择上存在焦虑和不确定性。
    
- **个人成长型：** 对心理学有浓厚兴趣，希望深入了解自我，追求心智成熟。
#### 核心功能模块 

1. **引导式入驻与目标设定 
    
    - **流程：** 用户首次进入，通过一个简短、友好的交互式问卷选择当前最关注的成长领域（如“告别拖延”、“管理焦虑情绪”、“提升睡眠质量”、“建立自信”等）。
        
    - **产出：** 系统根据用户的选择，为其推荐一个初始的“成长路径 (Growth Path)”，并设定初步的周/月目标。，
        
2. **AI驱动的引导式日志 
    
    - **每日一思：** 每天清晨，AI会根据用户的“成长路径”和近期日记内容，基于专业的cbt心理治疗，推送一个引导性问题或书写练习。
        
        - 示例 (焦虑路径)： “今天有没有什么让你感到担忧的事情？试着写下它，并思考最坏的结果真的会发生吗？发生的概率有多大？”
            
        - 示例 (拖延路径)： “今天最重要的任务是什么？把它拆解成三个小步骤，写下来。完成第一步需要多长时间？”
            
    - **自由日记：** 用户可以随时记录任何想法、经历和情绪，支持文本、语音输入（自动转文字）。
        
3. **多智能体分析引擎 
    
    - **即时反馈：** 用户完成日记后，AI立刻给予共情和初步反馈，让用户感到被倾听。
        
    - **深度分析（异步）：** 后台启动一个复杂的分析流程，由多个专门的Agent协同工作：
        
        - **情绪识别Agent：** 识别日记中的核心情绪、强度和波动。
            
        - **认知扭曲分析Agent (CBT Agent)：** 基于认知行为疗法理论，识别用户的自动化思维误区（如非黑即白、灾难化、过度概括等）。
            
        - **行为模式识别Agent：** 分析用户在拖延、回避等行为上的模式和触发因素。
            
        - **关联性洞察Agent：** 结合历史数据，发现特定事件、情绪和行为之间的长期关联。
            
    - **产出：** 生成结构化的“每日洞察报告”，以卡片形式呈现，用户可以选择查看。
        
4. **个性化成长路径 
    
    - **动态调整：** “元认知规划Agent (MCP)”会综合“每日洞察报告”和用户的长期目标，动态调整未来的引导性问题和学习内容。
        
    - **知识库整合 (RAG)：** 当分析出某个特定问题（如“灾难化思维”），系统会通过RAG技术，从心理学知识库（CBT、DBT手册等）中提取最相关、最易懂的解释和应对技巧，推送给用户。
        
    - **微课程与实践：** 提供5-10分钟的微课程和实践练习（如正念呼吸、情绪解离练习、行为激活计划表等），由AI引导完成。
        
5. **用户内在画像 
    
    - **知识图谱构建：** 后台为每个用户构建一个动态的个人知识图谱。节点是“情绪”（焦虑）、“事件”（考试）、“认知模式”（灾难化）、“应对策略”（深呼吸），边是它们之间的关联。
        
    - **可视化呈现：** 用户可以查看自己随时间变化的“情绪热力图”、“思维模式云图”，直观地了解自己的进步和挑战。这极大地体现了个性化和长期追踪的价值。
        

## 技术选型详情

- **后端框架：Python + FastAPI**
    
    - **原因：** Python是AI/ML的绝对主力。FastAPI基于Starlette和Pydantic，性能极高，支持异步IO，非常适合构建高并发的AI服务接口。类型提示和自动生成API文档的特性也能极大提高开发效率和项目规范性。
        
- **大模型与智能体框架：LangChain **
    
    - **原因：** LangChain是构建复杂LLM应用的行业标准，它能很好地将LLM、外部工具（知识库）、记忆模块和Agent逻辑粘合在一起。用它来实现你的多智能体系统（CBT Agent, Planner Agent等）是最佳选择。
        
    - **实现：** 可以定义多个继承自LangChain Agent的类，每个Agent有自己专属的Prompt、工具（如向量数据库检索）和解析逻辑。那个“元认知规划Agent (MCP)”则是一个AgentExecutor或更复杂的Plan-and-Execute Agent，负责协调其他Agent的工作。
        
- **模型服务 
    
    - **选项A ：** 混合模型策略。核心对话和即时反馈使用高效的API（如Google Gemini API, OpenAI API, 或国内的Kimi/Claude API），保证响应速度。后台的深度分析任务，可以使用自托管的开源模型（如Llama 3, Qwen2），通过vLLM或TGI等框架部署在GPU服务器上
        
    - **选项B ：** 完全依赖API。
        
- **数据库 (Databases)**
    
    - **关系型数据库：PostgreSQL**
        
        - **用途：** 存储用户账户、设置、原始日记文本、结构化日志等。
            
        - **原因：** 稳定、可靠、功能强大，是业界首选。其对JSONB数据类型的良好支持也为半结构化数据存储提供了便利。
            
    - **向量数据库：ChromaDB / Milvus / Pinecone**
        
        - **用途：** 存储心理学知识库的Embedding向量，用于RAG。存储用户日记的Embedding，用于语义搜索和模式分析。
            
        - **原因：** 这是所有RAG应用的核心组件。ChromaDB易于本地部署，Milvus功能更强大，Pinecone是优秀的SaaS服务。在简历中提及任何一个都表明你掌握了这项关键技术。
            
    - **图数据库：Neo4j** 
        
        - **用途：** 构建和存储每个用户的个人内在画像知识图谱。
            
        - **原因：** 使用图数据库来建模用户心理状态的复杂关系，是这个项目区别于其他简单CRUD+LLM项目的最大亮点。面试时可以详细阐述你是如何定义节点和关系，以及如何通过图查询来发现深层洞察的，这会非常加分。
            
- **消息队列与任务调度：Celery + RabbitMQ / Redis**
    
    - **用途：** 日记的“深度分析”是一个耗时任务，不能阻塞API响应。当用户提交日记后，后端立即返回“已收到”，然后将分析任务（如调用多智能体链）作为一个job推送到消息队列中，由Celery的worker在后台异步处理。
        
    - **原因：** 这是构建可扩展、高可用后端服务的标准实践，耦的理解。
    
- **缓存：Redis**
    
    - **用途：** 缓存用户信息、热门知识库条目、会话数据等，降低数据库压力，提高响应速度。
        
    - **原因：** 行业标准，快速、高效。
        
- **部署与运维 (DevOps)**
    
    - **容器化：Docker**
        
    - **编排：Kubernetes (K8s)**
        
    - **CI/CD：GitHub Actions**
        
