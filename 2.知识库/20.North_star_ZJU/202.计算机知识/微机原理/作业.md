# ch4
## 1指令
1. **[] 里只能有 BX, BP, SI, DI**。
    
2. **两边位数要一样** (AX对BX，AL对BL)。
    
3. **两个内存不能对传**。
    
4. **段寄存器 (DS, ES) 不能直接吃数字**。
    
5. **不写 PTR，CPU不知道操作多大内存

6. **MOVS 这种串指令**，后面不要加操作数，它是靠 SI/DI 吃饭的。
    
7. **PUSH/POP 在 8086 里很挑剔**：PUSH 不能压数字，POP 不能弹 CS。
    
8. **段寄存器 (DS, ES...) 是“残疾人”**：不能 MOV 立即数，不能段对段 MOV，不能 XCHG。
    
9. **DIV / MUL 很霸道**：只能写一个操作数（除数/乘数），而且不能是数字，必须是寄存器或内存。
10. **移位 SHL/SHR**：次数超过1，必须用 **CL**。
    
11. **端口 IN/OUT**：端口号要么直接写数字（<256），要么放 **DX**，别的人不行。
    
12. **地址 OFFSET**：地址永远是 **16位** 的，别想放进 AL/BL 里。
    
13. **堆栈 PUSH**：只收 **16位** 寄存器。
恭喜你！这40道题看下来，你已经掌握了 8086 汇编语法的 **80%** 考点了。

以后做这种题，**像安检员一样扫描这几个点**：

1. **扫描 []**：里面必须是 BX, BP, SI, DI 的组合。BX和BP不能共存，SI和DI不能共存。
    
2. **扫描 MOV**：两边位数必须一样（8对8，16对16）；不能两边都是内存；不能两边都是段寄存器。
    
3. **扫描 段寄存器 (DS/ES)**：不能直接给它塞数字（立即数）。
    
4. **扫描 PTR**：如果你只看到 [内存] 和 立即数，没看到寄存器，那就是错的（大小不明）。
    
5. **扫描 特殊指令**：
    
    - **移位**：大于1次用 CL。
        
    - **端口**：大于255用 DX。
        
    - **堆栈**：只能压 16位。

**小结一下指令对的区别套路**：

1. **串指令 (MOVS, STOS, SCAS...)** 最大的特点就是**自带指针移动** (SI/DI ++/--)。
    
2. **LEA 是算地址，MOV 是取值**。
    
3. **SUB 是真减，CMP 是假减（只变标志位）**。
    
4. **BP 默认找 SS，其他通用寄存器默认找 DS**


# 2 寻址
### **（补充）根据条件推测的后续题目**

(题目给出了 20100H 等数据，肯定有对应的指令，以下是标准考法)

#### **(4) 推测指令：MOV AX, [BX]**

- **类型**：**寄存器间接寻址**
    
- **分析**：
    
    - **偏移地址** = BX = 0100H
        
    - **物理地址** = 20000H + 0100H = **20100H**
        
    - 查表得：3412H
        
- **答案**：**AX = 3412H**
    

#### **(5) 推测指令：MOV AX, [BX][SI]**

- **类型**：**基址变址寻址**
    
- **分析**：
    
    - **偏移地址** = BX + SI = 0100H + 0002H = 0102H
        
    - **物理地址** = 20000H + 0102H = **20102H**
        
    - 查表得：7856H
        
- **答案**：**AX = 7856H**
    

#### **(6) 推测指令：MOV AX, 1100H[BX] (或 [BX+1100H])**

- **类型**：**寄存器相对寻址**
    
- **分析**：
    
    - **偏移地址** = BX + 1100H = 0100H + 1100H = 1200H
        
    - **物理地址** = 20000H + 1200H = **21200H**
        
    - 查表得：4C2AH
        
- **答案**：**AX = 4C2AH**
    

#### **(7) 推测指令：MOV AX, 1100H[BX][SI]**

- **类型**：**相对基址变址寻址**（全家桶）
    
- **分析**：
    
    - **偏移地址** = BX + SI + 1100H = 0100H + 0002H + 1100H = 1202H
        
    - **物理地址** = 20000H + 1202H = **21202H**
        
    - 查表得：65B7H
        
- **答案**：**AX = 65B7H**
    

---

### **做题心得总结**

这道题的核心就一个公式：  
**物理地址 = 20000H (DS基址) + []里算出来的数**