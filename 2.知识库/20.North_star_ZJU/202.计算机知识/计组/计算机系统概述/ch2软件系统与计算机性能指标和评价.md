
# 软件系统
- 操作系统：调度各种资源的软件
- 程序设计语言与语言处理程序： 
  - 语言
    1. 机器语言; 一堆二进制代码，但不同硬件结构的计算机对代码解读不同
    2. 汇编语言：面向机器的计算机语言，需要用汇编器转化为机器指令
    3. 高级语言 ：更面向人类
      - 解释型语言 ：边解释边执行（如 java）
      - 编译型语言：先把程序整体翻译再执行（如 c）
   - 处理程序
    - 编译程序
    - 汇编程序
    - 解释程序

 问题：编译型语言一定是经过编译程序成汇编，再由汇编程序处理为机器语言，再执行机器语言；解释型语言直接经过解释性程序，变成机器语言并执行命令，并没有汇编语言这个步骤，对吗？
 硬件和软件在功能上具有等价性是什么意思？

<span style="background:#d3f8b6">A：是的 </span>
<span style="background:#d3f8b6">这句话的意思是：同一功能既可以用硬件实现（物理电路），也可以用软件模拟（程序）。  </span>
<span style="background:#d3f8b6">举个栗子🌰：</span>

<span style="background:#d3f8b6">- 早期的计算机没有浮点运算硬件，浮点运算用软件（程序）模拟实现；后来有了浮点运算器（硬件），运算速度更快。两者都能完成浮点运算，这就是功能等价。</span>
# 基本性能指标
- 机器字长：cpu 一次能处理的二进制位数，一般与寄存器位数、数据总线、存储字长相等  
- 存储容量：存储单元的数量 * 存储单元的位数 
  MAR 和 MDR 是什么，存储容量如何计算的，硬盘又是如何计算的，为什么实际容量和标称容量不一样？ 一位数是一字节，一字节是八 byte 吗？还是说一位数是 1byte


- **1位（bit）**：就是0或1，计算机最小的单位。
- **1字节（Byte）** = 8位（bit），比如存一个字母'A'需要1字节（8位）。
- **误区纠正**：
    - ❌错误说法：“一位数=1字节” → 正确是“1字节=8位”。
    - ❌“一字节是八Byte” → 这是胡扯，1字节=8位（bit），和“Byte”没关系。
1. - **MAR<span style="background:#d3f8b6">（地址本</span>）**：好比你要找快递柜里的包裹，MAR就是记录包裹所在柜子编号的本子。比如MAR有16位，就能记录 216=65536216=65536 个柜子编号（最多找6万多个柜子）。
    - **MDR<span style="background:#d3f8b6">（数据搬运工）</span>**：找到柜子后，MDR负责把柜子里的东西拿出来或放进去。比如MDR是8位，说明每个柜子能存8位二进制（比如存一个字母'A'）。
2. **存储容量怎么算？**
    
    - 总容量 = **柜子数量 × 每个柜子能装多少位**
    - 例子：MAR是16位（有65536个柜子），MDR是8位（每个柜子放8位），总容量就是 65536×8=52428865536×8=524288 位。换算成字节要除以8（因为1字节=8位），得到65536字节=64KB。

 1k=2 的 10 次方
 1M=2 的 20 次方
 电脑的存储来说，
 1KB=1024 字节
 1MB=1024×1024 字节
**硬盘容量为什么“缩水”？**

- **单位诈骗**：硬盘厂商说1GB=1000MB，但电脑按1GB=1024MB算。比如标称1TB的硬盘：
    - 厂商算：1TB = 1000×1000×1000×1000 = 1,000,000,000,000字节
    - 电脑算：1TB = 1024×1024×1024×1024 ≈ 1,099,511,627,776字节
    - 所以标称1TB实际显示约931GB（1万亿 ÷ 1024³≈931）。
## 运算速度
主频：CPU 的时钟频率，每秒的时钟周期数，即一秒能运转多少次？时钟周期数到底是什么意思，就是运作一次机器字长耗费的时间的意思吗？
<span style="background:#d3f8b6">是每秒运转多少次，但运转不代表处理机器字长。这个运转时间当作 cpu 的心跳一次的时间，是基本的时间单位</span>
CPI：总时钟周期数除以执行的指令数（m/IC）即一个指令耗费的时钟周期数，越小越好
CPU 执行时间：总时间周期数×时间周期
IPC：CPI 的倒数，即一个时钟周期数执行的指令，越大越好
MIPS：每秒钟 CPU 能执行的指令总条数  IPC×主频

cpu 的核数和缓存是什么？
### CPU核数和缓存的作用

#### 1. **核数（物理核心）**

- **通俗说**：CPU核数相当于“有几个工人同时干活”。比如4核CPU可以同时处理4个任务，适合多任务场景（如边打游戏边直播）。
- **超线程**：有些CPU（如Intel）支持超线程，1个物理核心虚拟成2个逻辑核心（“一个工人假装有两只手”），提升多线程效率 
    
    
- **误区**：核数越多越好？不一定！如果软件不支持多线程，8核可能不如4核快（比如老版Photoshop只吃单核性能） 
    
    


---

#### 2. **缓存（Cache）**

- **作用**：缓存是CPU的“临时储物柜”，存放最近用过的数据和指令，避免频繁去内存（速度慢）取数据。
- **层级**：
    - **L1缓存**：最小（几十KB）、最快，每个核心独享（相当于工人自己的工具包）。
    - **L2缓存**：稍大（几百KB~几MB），可能多个核心共享（相当于车间共用工具箱）。
    - **L3缓存**：最大（几MB~几十MB），所有核心共享（相当于整个工厂的仓库） 
        

- **例子**：
    - 如果CPU需要反复计算同一批数据，缓存命中率高时，速度提升明显（比如游戏加载地图时重复读取数据） 
        
        
        
    

Amdahl 定律

# 习题部分
对于科学计算，MFLOPS 才是最能衡量性能参数的
因为 MIPS 只是说执行指令怎么样，并不能·说执行计算怎么样

计算一串指令的 cpi 时，注意方法
- 算总时钟周期，再算总指令数，相除得出
- 算指令占比，乘 cpi 再相加

计算 mips 算 cpi，算 f。注意mips！中的f 是mhz，m！假如2ns为t，结果应是500mhz！

### 单位换算的常见混淆点

1. **存储容量 vs. 传输速率**
    
    - **存储容量**：1MB = 1,048,576 字节（二进制） 
        
        。
    - **传输速率**：1MB/s 通常指 1,000,000 字节/秒（十进制），但某些设备可能用二进制 
        

        。
2. **比特（bit）与字节（Byte）的转换**
    
    - 1Byte = 8bit，因此：
        - 1MB/s（字节每秒）= 8Mb/s（比特每秒） 
        - 例如：100MB/s 的硬盘速度 = 800Mb/s 的比特速率。
3. **厂商标称 vs. 实际显示**
    
    - 网络服务商标称的 “1M 宽带” = 1Mbps（十进制），实际下载速度约为 125KB/s（1Mbps ÷ 8 = 125,000 字节/秒） 
    - 硬盘标称 1TB = 10^12 字节（十进制），但操作系统显示约 931GB（二进制） 
        

### 三、总结：关键区分场景

| **场景**        | **单位规则**       | **示例**                    | **原因**                               |
| ------------- | -------------- | ------------------------- | ------------------------------------ |
| **网络传输速率**    | 十进制（M=10^6）    | 1MB/s=1,000,000 B/s       | 国际单位制标准化 <br><br>1<br><br> <br><br>3 |
| **存储容量/本地传输** | 可能用二进制（M=2^20） | 1MB/s=1,048,576 B/s（部分设备） | 兼容存储单位定义 <br><br>3<br><br> <br><br>4 |
| **厂商标称**      | 十进制为主          | 硬盘标称 1MB=1,000,000 B      | 方便营销和计算                              |
需要记住：
![[Pasted image 20250410114001.png]]