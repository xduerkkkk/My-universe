4090的一张卡

start.py
	redis缓存对话，线程池，第哦啊有仲裁、nlu、reject模型等
	流程是query改写，调用nlu，获取仲裁结果，
server.py (微服务)

client
- nlg
- nlu
- reject
- rewrite
- stram_chat
- arbitration
- correlation
cofig
一些apikey url slotintent是nlu的信息，意图、槽位名
dialog.py 对话、

functioncall
- chatnlu_infer.py
- dm
	- maps
	- music
	- weather
- function.py 工具实现
- slot process

log文件夹 积累

mcp_core
- map_server
- mcp_client
- music_sever

prompts.py 非常多的提示词

test模块单测，测试集，

train 最关键的部分
拒识模型二分类 
意图召回topk召回，有400多个类别
- train.txt 线上数据 这个来自人员标注
- class.txt 意图表 意图标号：含义：functioncall位置
- run.py berttiny（三层？说的是这个模型有只有三个block的tranformer吗）
- train_eval.py  拒识的计算，f1指标 acc指标  意图召回的计算 除了f1，acc 还有k取3和五的acc@k的指标和
- 配置文件 配置模型超参数，训练超参数
- fastapi打包intent模型和reject模型
  core
	- optimization代码 tokenization代码
	- file_utils 一些数据处理


functioncall
- function.py 意图  
```
{

        "type": "function",

        "function": {

            "name": "Open_Heating",

            "description": "用户想要打开空调制热模式",

            "parameters": {

                "type": "object",

                "properties": {}

            },

        },

    },

    {

        "type": "function",

        "function": {

            "name": "Open_Cooling_Instant",

            "description": "用户想要打开一键降温功能或者用户现在非常热",

            "parameters": {

                "type": "object",

                "properties": {}

            },

        },

    },
```

- chatnlu_infer.py 起一个服务，规范化，为调用mcp准备。 实现nlu流程



start