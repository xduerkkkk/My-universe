

---
# 今天想说的话

## withopen后，直接读取line 和用json.load读取line

## if input_ids[end:end + len(self.eos_id)] == self.eos_id: 和 if end_index == self.end_ids:


## qwenvl，之前的text里就是个`<image>`占位符 然后文本向量与图片向量cat时，用图片替换掉占位符。 为什么我们要设计196*'@'呢

## class MiniMindVLM(MiniMindForCausalLM） 我记得，之前解读qwenvl时，也是直接使用一个语言模型？

## 倍增，快速幂 Collatz



# 一. 今日成就
今天周日，本应休息，但是还是坚持。
因为明天周一，且满课，从8点半到12点，从14点到17点30 都是课，我需要考察一下新学期的课，所以每节课都去一下，看看老师讲的怎么样，看看好不好翘课。那么时间就不太多，所以今天坚持学一下。

1. llm：pretrain代码只剩训练循环没写。 只投入两个半小时。完成的有
   - _prepare_prompt
   - _prepare_loss_mask
   - 复习了一下读取json的方式以及意义
   - 训练代码中，定义model时，扒出对模型类继承的不熟悉，复习，修改代码，优化vlm、llm
   - 又碰见jupyter文件导入错误的情况，学习一下，jupyter的路径，以及__init__,py的必要
1. 算法：今天又刷算法真题， 投入两小时， 做题+学基础知识 

# 二. 今日思考
对于pretrain代码设计，有许多疑问问ai，把疑问整理下来，还有些没贴呢，明天贴一下。
下面就正式写训练循环了，感觉也算蛮快， 两三天应该能直接跑代码，诞生一个预训练模型。再耗费两三天，复习后训练算法的同时，把sft训练出来。
算法，今天又是看了下线代知识，实在觉得对矩阵不敏感，看了30分钟线代基础视频。这个视频把矩阵可视化，线代可视化，我的收获就是，矩阵是一种“转化方式”，在空间上转化向量，变成各式各样，熟悉的一些特殊矩阵都有对应的，人能看懂的转化... 对角矩阵各维度拉伸，正交矩阵整体旋转..再谱分解没看懂，对称矩阵的特征向量互相垂直，没看懂应用的地方... 
然后算法题，快速幂的应用，看了很长时间，确信还是不懂，需要后续继续刷，写笔记
第二个算法题，numpy实现题目描述的分类算法， 感觉算法岗笔试都考一个这样的题，纯粹考工程能力，如何阅读理解后，把理解的变成代码，没有什么像动规、贪心啦这种模板。


## 三. 明日规划
明天满课，毕竟要感受老师讲课，还是先呆在教室吧，如果离开还要回教学楼上下一堂课。那么在课上比较水的时候，复习过去所有的算法题思想，是收录的做错的链表、哈希表、滑动窗口，9个题。再就是周报，总结、回顾这周都干了啥。如果还有时间，就看手写一遍二叉树迭代等基础题。
晚上的时候，投入2.5-3个小时做llm。


